<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="description" content="Some Thoughts On Software Development Consulting">
  <meta name="keywords" content="iOS Developer,iOS Development, Albuquerque, Albuquerque iPhone Developer, Albuquerque Software Developer, Software,Developer,Programmer, Software Consultant, Freelance Developer">
  <meta name="author" content="Brandon Trebitowski">

  <link rel="micropub" href="https://brandontreb-blog.herokuapp.com/micropub/main">
  <link rel="token_endpoint" href="https://tokens.indieauth.com/token">
  <link rel="authorization_endpoint" href="https://indieauth.com/auth">
  <link href="https://twitter.com/brandontreb" rel="me">
  <link href="http://github.com/brandontreb" rel="me">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      brandontreb.com &middot; Tips And Resources For Software Consultants
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-381854-9', 'auto');
    ga('send', 'pageview');

  </script>
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A blog about software development consulting</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
    
      
    

    <!-- <a class="sidebar-nav-item" href="/archive/v1.0.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span> -->

    <!--
            Recent Posts
            On my homepage I like to include a recent posts section to entice people click through and read, and also to have no content on the homepage every time I write an article. Important part of SEO!
            You can easily change this to suit your site. Maybe you want 3 posts, instead of 2 or more words in the snippet.
    -->

    <span class="sidebar-nav-item">Subscribe: <a href="http://feeds.feedburner.com/brandontreb">RSS</a> | <a href="http://eepurl.com/bnryI5">Email</a></span>
    <a class="sidebar-nav-item" href="/micro">Micro Blog</a>
    <a class="sidebar-nav-item" href="http://linkedin.com/in/brandontreb">Linked In</a>
    <a class="sidebar-nav-item" href="http://twitter.com/brandontreb">Twitter</a>
    <a class="sidebar-nav-item" href="http://pixegon.com/more-works">Portfolio</a>

    <span class="sidebar-nav-item">Recent Posts
    
      
        
      
        
      
        <a class="sidebar-nav-item" href="/trying-something-new">Trying Something New</a>
    
      
        <a class="sidebar-nav-item" href="/how-creating-a-call-flow-helps-sales-calls">How Creating A Call Flow Can Help Your Software Sales Calls</a>
    
    </span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2018. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">brandontreb.com</a>
            <small>Tips And Resources For Software Consultants</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  
    <div class="post">
      <h1 class="post-title">
        <a href="/configuring-photoshop-for-pixel-art">
          Configuring Photoshop For Pixel Art
        </a>
      </h1>

      <p>First things first. My wife and I had welcomed a new baby boy into the world on Monday so you guys are going to have to see the obligatory ‚Äúdad‚Äù pics.</p>

<p>Here they are</p>

<p><img src="http://images.instagram.com/media/2011/06/30/a63ad6fab0dc4839a604e885a8a85f50_7.jpg" alt="Jack" /></p>

<p><img src="http://images.instagram.com/media/2011/07/01/e77e30a4d504437ba75df8a7129f7d9d_7.jpg" alt="Jack" /></p>

<p>Ok, now that‚Äôs past us, let‚Äôs chat about pixel art. I have always been a HUGE fan of pixel art both in games and as a form of art. As an aspiring game developer (games coming soon üòâ ), I found pixel art a great fit for me. Not only is is aesthetically pleasing, it also allows developers to create ‚Äúbetter‚Äù art than developer art. All it takes is a little patience.</p>

<p>Today, I‚Äôm going to share with you how I have configured Photoshop to create some pixel art and eventually show you how to make your own Bitizens from <a href="http://itunes.apple.com/us/app/tiny-tower/id422667065?mt=8">Tiny Tower</a> in a follow up post.</p>

<p>Some of you might argue that Photoshop is not the way to go and that there are <em>better</em> tools for Pixel art. I have tried quite a few and keep coming back to PS because of some of it‚Äôs great features (shapes, layering, masks, gradients, noise filters, etc‚Ä¶). We can use a lot of these tools to our advantage when creating pixel art, PS just needs to be set up correctly.</p>

<p>Just a heads up before I start, I‚Äôm using Adobe Photoshop CS3 for Mac.</p>

<h4 id="change-the-way-photoshop-scales-images">Change The Way Photoshop Scales Images</h4>

<p><img src="/img/post_images/2011/07/bitizens-compare.png" alt="" /></p>

<p>First, we need to change the way PS scales images. This is useful for when you are ready to export your sprites for production. By default, PS uses a Bicubic algorithm when you want to enlarge an image. This generally produces a very blurry effect. It‚Äôs quite useful in many cases, but terrible for pixel art. Here, we need to tell PS to use a ‚ÄúNearest Neighbor‚Äù scaling algorithm. This will preserver all of our edges without PS mucking with the blending.</p>

<p>To change this setting, navigate to <strong>Photoshop-&gt;Preferences-&gt;General</strong></p>

<p><img src="http://f.cl.ly/items/023E3D060e2T420f013j/Screen%20shot%202011-07-02%20at%2010.34.22%20AM.png" alt="Nearest Neighbor" /></p>

<p>The only setting you need to modify is ‚ÄúImage Interpolation‚Äù. Make sure to change it to ‚ÄúNearest Neighbor‚Äù.</p>

<h4 id="enabling-a-grid">Enabling A Grid</h4>

<p>When creating pixel art, it is very useful to have a grid in place in order to determine where to place your next pixel. Without it, you are just blindly placing them. To turn on and configure a grid in PS, navigate to <strong>Photoshop-&gt;Preferences-&gt;Guides, Grid, Slices &amp; Count‚Ä¶</strong></p>

<p><img src="http://f.cl.ly/items/3c1g0r1g1n3S020z3G1K/Screen%20shot%202011-07-02%20at%2010.42.00%20AM.png" alt="1px gridlines" /></p>

<p>Make sure to set <strong>Gridline every</strong> to 1 and <strong>Subdivisions</strong> to 1. This will create a 1px grid on for you to use as a guide.</p>

<p>Once you have configured the grid, click on <strong>View-&gt;Show-&gt;Grid</strong> to display it. You might have to do this for every document.</p>

<h4 id="configuring-the-pencil-tool">Configuring the Pencil Tool</h4>

<p>When creating pixel art in PS, the pencil tool is your best friend. You will use it ~95% of the time when drawing. We need to make sure that the pencil draws single pixel dots without any interpolation. With the pencil tool selected, click the dropdown next to <strong>brush</strong>, tap the <strong>arrow</strong> and then select <strong>basic brushes</strong>. When prompted to replace current brushes, click <strong>OK</strong>.</p>

<p><img src="http://f.cl.ly/items/3G3M3s0M0O2H3J332x0M/Screen%20shot%202011-07-02%20at%2010.57.03%20AM.png" alt="Basic Brushes" /></p>

<p>Next, select the 1 px brush (it should be in the top left). Most of the time, you will want to draw with single pixels.</p>

<p><img src="http://f.cl.ly/items/3L132f1e2y2z0Y291e0i/Screen%20shot%202011-07-02%20at%2010.53.40%20AM.png" alt="1 px brush" /></p>

<h4 id="creating-a-new-document">Creating A New Document</h4>

<p>Deciding on a document size can be tricky. You generally want to create your document as small as possible to avoid having to do more work than you need. The size depends on how ‚Äúpixellated‚Äù you want your art to look after scaling. Basically, using the scaling we chose above (nearest neighbor), the ‚Äúpixels‚Äù will just increase in size.</p>

<p>Here is a blown up view of our 15√ó25 image that we will use in the next tutorial to create a Bitizen from Tiny Tower.</p>

<p><img src="http://f.cl.ly/items/110e2542012Y3I3Y2L1i/Screen%20shot%202011-07-02%20at%2012.31.54%20PM.png" alt="New Document" /></p>

<p>Since the zoom level isn‚Äôt too high, we are seeing grid slices every 2 pixels rather than 1. As you zoom, you will see the grid size increasing.</p>

<h4 id="multiple-zoom-levels-in-view">Multiple Zoom Levels In View</h4>

<p>One cool trick with PS is, it allows you to have multiple windows of the same document open. The reason this is handy is you can see various zoom levels for your artwork all at once. While drawing each pixel zoomed in, you can see the result in the desired resolution. This helps out dramatically when you are trying to fine tune your work.</p>

<p>To do this, go to <strong>Window-&gt;Arrange-&gt;New Window for [projectname.psd]</strong> Now you can control the zoom level of each window individually.</p>

<p><img src="http://f.cl.ly/items/0o2A0E3h0K470v02273G/Screen%20shot%202011-07-02%20at%2012.39.07%20PM.png" width="450" /></p>

<p>In the next post, I will go over how to make these Bitizens as well as some tips for customization as an example for creating dynamic characters. We will also go over some of the basic techniques that were used.</p>

<p>If you have any comments, questions, or Photoshop Pixel Art Tips, please feel free to post them in the comments.</p>

<p>Happy coding!</p>

<p><span style="font-family: ‚ÄòLucida Grande‚Äô;"><strong><span style="font-weight: normal;"><span style="font-family: arial, verdana, tahoma, sans-serif; font-size: 13px; line-height: 20px;"><em>ÔªøÔªøThis post is part of <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">iDevBlogADay</a>, a group of indie iOS development blogs featuring two posts per day. You can keep up with iDevBlogADay through the <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">web site</a>, <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://feeds.feedburner.com/idevblogaday">RSS feed</a>, or <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://twitter.com/#search?q=%23idevblogaday">Twitter</a>.</em></span></span></strong></span></p>

<div style="">
  <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-text="Configuring Photoshop For Pixel Art" data-url="http://brandontreb.com/configuring-photoshop-for-pixel-art" data-via="brandontreb" data-related="brandontreb:">Tweet</a>
</div>


      <!-- <span class="post-date">02 Jul 2011</span> -->
      <footer class="post__footer">
          <small><time class="dt-published" datetime="2011-07-02T00:00:00-06:00"><a href="/configuring-photoshop-for-pixel-art" title="Permalink to Microblog post" class="u-url">Sat, Jul 02, 2011 at 12:00am</time></a></small>
        </footer>
    </div>
  
  
  
    <div class="post">
      <h1 class="post-title">
        <a href="/announcing-ios-4-in-action-free-chapter">
          Announcing iOS 4 In Action + Free Chapter!
        </a>
      </h1>

      <p><img src="http://www.manning.com/jharrington/jharrington_cover150.jpg" class="size-full wp-image-1387 alignleft" /></p>

<p>Wow, I can‚Äôt believe it has been over a year since the release of my book <a href="http://manning.com/trebitowski/">iPhone And iPad In Action</a>. Since then, we have sold over 6,000 copies and have just have released in numerous languages!</p>

<p>As with all iOS (tech books really), my book was almost outdated the moment it hit the shelves due to Apple‚Äôs constant SDK release cycle. My book ended with ‚Äúhere is what‚Äôs coming in iOS 4‚Ä¶‚Äù, and didn‚Äôt hit the shelves until after iOS 4 was released.</p>

<p>I was asked last year by <a href="http://manning.com">Manning Publishing</a> to write the 3rd version of the book to include all of the 4.0 SDK changes. Due to some huge changes in my life, I was unable to accept and they had to find the 4th author to work on the book.</p>

<p>Earlier this month, <a href="http://www.manning.com/jharrington/">Jocelyn Harrington</a> released the 3rd version of the book titled ‚ÄúiOS 4 In Action‚Äù. Here is a bit about this version from their site.</p>

<blockquote>
  <p>Written for Xcode 4, iOS 4 in Action guides you from setting up your development environment,<br />
through coding your first app, all the way to selling in the App Store. Work through sample<br />
applications including a chat client, a video game, an interactive map, background audio,<br />
and more as you explore the iOS 4 SDK.</p>
</blockquote>

<p>Here are some highlights about what‚Äôs inside.</p>

<ul>
  <li>Full coverage of iOS SDK 4.3</li>
  <li>Mastering Xcode 4</li>
  <li>Multitasking for iPhone and iPad</li>
  <li>Game Center, iAd, and AirPrint</li>
  <li>Local and push notification</li>
  <li>Implementing in-app purchasing</li>
</ul>

<p>This is a significant update and I‚Äôm really excited to get my copies in the mail. As soon as I do so, I‚Äôll do a couple giveaways on my blog. Make sure you stick around or <a href="http://feeds.feedburner.com/brandontreb">subscribe to the RSS feed</a> so you don‚Äôt miss it!</p>

<h4 id="freebie">Freebie</h4>

<p>Manning is allowing anyone to download the full <a href="http://www.manning.com/jharrington/iOS4iASample-ch21.pdf">Chapter 21</a> on multitasking now for free! <a href="http://www.manning.com/jharrington/iOS4iASample-ch21.pdf">Go grab your copy</a>!</p>

<p>Happy Coding!</p>

<p><span style="font-family: ‚ÄòLucida Grande‚Äô;"><strong><span style="font-weight: normal;"><span style="font-family: arial, verdana, tahoma, sans-serif; font-size: 13px; line-height: 20px;"><em>ÔªøÔªøThis post is part of <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">iDevBlogADay</a>, a group of indie iOS development blogs featuring two posts per day. You can keep up with iDevBlogADay through the <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">web site</a>, <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://feeds.feedburner.com/idevblogaday">RSS feed</a>, or <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://twitter.com/#search?q=%23idevblogaday">Twitter</a>.</em></span></span></strong></span></p>

<div style="">
  <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-text="Announcing iOS 4 In Action + Free Chapter!" data-url="http://brandontreb.com/announcing-ios-4-in-action-free-chapter" data-via="brandontreb" data-related="brandontreb:">Tweet</a>
</div>


      <!-- <span class="post-date">18 Jun 2011</span> -->
      <footer class="post__footer">
          <small><time class="dt-published" datetime="2011-06-18T00:00:00-06:00"><a href="/announcing-ios-4-in-action-free-chapter" title="Permalink to Microblog post" class="u-url">Sat, Jun 18, 2011 at 12:00am</time></a></small>
        </footer>
    </div>
  
  
  
    <div class="post">
      <h1 class="post-title">
        <a href="/autonomous-steering-behaviors-in-corona-sdk-games">
          Autonomous Steering Behaviors In Corona SDK Games
        </a>
      </h1>

      <p>Wow, it‚Äôs already been 5 months since I was last blogging for #iDevBlogADay. The time has flown by!</p>

<p>Recently, I have been dabbling with [Corona SDK][1] and have been getting really excited about the possibilities. For those of you who don‚Äôt know, Corona SDK is a multi platform game engine that allows you to write your code in Lua and deploy on iOS and Android devices.</p>

<p>Today I want to chat with you about Autonomous Steering Behaviors and show you how I have implemented a few of them in a small game that I‚Äôm working on.</p>

<p>Here is a short demo video of what we will be creating</p>

<center>
  <br /> 
  
  <p>
    <a href="http://vimeo.com/24649841">Boids Demo</a> from <a href="http://vimeo.com/user2413855">Brandon Trebitowski</a> on <a href="http://vimeo.com">Vimeo</a>.
  </p>
  
  <p>
    &lt;/center&gt;
  </p>
  
  <h4>
    What Are Autonomous Steering Behaviors
  </h4>
  
  <p>
    The name does sound pretty fancy. At the core they are just behaviors that define how a character interacts with the world around them in a life-like manner. Some of the main behaviors include wandering, path following, flocking, pursing and evading. The theory and algorithms for all of these behaviors and more can be found in a paper published by Craig Reynolds in the 80&#8217;s called <a href="http://www.red3d.com/cwr/steer/">Steering Behaviors For Autonomous Characters</a>.
  </p>
  
  <p>
    While I admit I didn&#8217;t quite read all of it, the paper contains some incredible gems in terms of making your character AI seem much more life like.
  </p>
  
  <p>
    There are plenty of examples (especially in games) where these behaviors come in handy. Perhaps the easiest behavior to implement is wander. Say for example you have an NPC (non player character) that walks around a village. The wander algorithm is a perfect fit to make it seem like that NPC is actually &#8220;thinking&#8221; about where he&#8217;s going and keeps your animations looking smooth.
  </p>
  
  <p>
    The seek and evade is another interesting algorithm. Often times in our games, we want enemies to chase after us without it seeming like they have the exact shortest path to use. It adds a bit of randomness and makes your enemies seem much more realistic.
  </p>
  
  <h4>
    How Can I Use Them In My Corona SDK Game?
  </h4>
  
  <p>
    After doing a bit of research, I found this <a href="http://www.shiffman.net/teaching/nature/steering/">incredible site by daniel shiffman</a> that detailed some of the algorithms using processing. This at least took the words from the paper and made them in to some code. I really suggest that you read up on that page to get a solid understanding of what we are doing here. Rather than simply regurgitating what Daniel wrote, I&#8217;m going to focus on showing you how his code can be ported for use in your Corona SDK games.
  </p>
  
  <p>
    The first challenge was, the code relies heavily on using 2D vectors. Now, I didn&#8217;t see a nice built-in way to do this in Corona or Lua for that matter. So I decided to roll my own Vector2D class. For those Corona SDK veterans reading this, feel free to blast me in the comments if I&#8217;m reinventing the wheel with this and just failed to fully read the documentation. Otherwise, enjoy this Vector2D class!
  </p>
  
  <p>
    <a href="https://gist.github.com/1006414">Here is the link</a> to the gist containing that file.
  </p>
  
  <p>
    Here is a short snippet of that class just to add to the aesthetics of this post:
  </p>
  
  <div>
    <pre>&lt;code class=‚Äôlua‚Äô&gt;function Vector2D:new(x, y)  ‚Äì The constructor
  local object = { x = x, y = y }
  setmetatable(object, { __index = Vector2D })  ‚Äì Inheritance
  return object
end

function Vector2D:normalize()
    local temp
    temp = self:magnitude()
    if temp &gt; 0 then
        self.x = self.x / temp
        self.y = self.y / temp
    end
end

function Vector2D:dot(vec)
    return self.x * vec.x + self.y * vec.y
end&lt;/code&gt;</pre>
  </div>
  
  <p>
    Basically it&#8217;s a lua &#8220;object&#8221; that has an x and y with some helper methods for doing vector math. The lower case methods act on the current self object and the upper case methods act as static class level methods meant to return a new vector. The file is a little sloppy but it gets the job done.
  </p>
  
  <h4>
    Creating A Boid
  </h4>
  
  <p>
    In the paper, an autonomous character is called a Boid. There are basically 2 actions that we need to implement that are needed in most of the behaviors. They are <strong>steer</strong> and <strong>seek</strong>. <strong>Steer</strong> is the basis for all of the autonomous behaviors. Given a Vector2D as the target, it will return a new Vector2D for the boid&#8217;s acceleration in the direction of the target. We simply wrap this call in the <strong>seek</strong> method. Now, any behavior can call <strong>seek</strong> in order to direct the boid towards a target.
  </p>
  
  <p>
    <a href="https://github.com/brandontreb/Boids/blob/master/Boid.lua">Here is a link to our Boid on github</a>
  </p>
  
  <p>
    A snippet of the wander function
  </p>
  
  <div>
    <pre>&lt;code class=‚Äôlua‚Äô&gt;function Boid:wander()
    local wanderR = 16.0
    local wanderD = 60.0
    local change  = 0.5

    local negChange = math.random(2)
    local randomNum = math.random() * change
    if negChange == 2 then
        self.wanderTheta = self.wanderTheta - randomNum
    else 
        self.wanderTheta = self.wanderTheta + randomNum
    end 

    local circleLoc = self.vel:copy()

    circleLoc:normalize() 
    circleLoc:mult(wanderD)
    circleLoc:add(self.loc)

    local circleOffset = Vector2D:new(wanderR*math.cos(self.wanderTheta), 
        wanderR*math.sin(self.wanderTheta))
    local target = circleLoc:copy()
    target:add(circleOffset)

    self.acc:add(self:steer(target))
end&lt;/code&gt;</pre>
  </div>
  
  <p>
    What I have done is taken the code from <a href="http://www.shiffman.net/itp/classes/nature/week06_s09/wander/">Daniel Shiffman&#8217;s processing project</a> and ported it directly to lua. As of right now, I have only implemented wander, however you can see how easy it is to implement other behaviors using the same techniques. Since Daniel has processing code for each of them, it&#8217;s a simple matter of making them work in your lua class.
  </p>
  
  <p>
    The way wander works is, it picks random points on a circle to steer towards. These random points only vary by a fraction of a radian (defined by the <strong>change</strong> variable above) from the current steer point. The larger the change value is, the more your boid will appear jittery. This value must be tweaked to fit the wander style for your game. Based on my testing, .5 seems to generate a pretty smooth wander path.
  </p>
  
  <h4>
    Putting It All Together
  </h4>
  
  <p>
    In your own code you might want to build directly on top of my boid class or subclass it for each boid type. In the following example, I&#8217;m going to show you how to simply run our boid class and watch some dots wander around (hang on to your hats).
  </p>
  
  <p>
    <a href="https://github.com/brandontreb/Boids/blob/master/main.lua">Here is a link to main.lua on github</a>, but I have also pasted it here so we can talk about it.
  </p>
  
  <div>
    <pre>&lt;code class=‚Äôlua‚Äô&gt;local Boid = require(‚ÄòBoid‚Äô)

‚Äì Define some limiting constants
MAX_FORCE = 1.75
MAX_SPEED = 2.0

local wanderers = {}

function animate(event) 
    for i=1,#wanderers do
        local wanderer = wanderers[i]
        wanderer:wander()
        wanderer:run()
    end
end

function Main()
    math.randomseed( os.time() )
    
    for i=1,10 do
        local loc = Vector2D:new(display.contentWidth / 2,display.contentWidth / 2)
        local wanderer = Boid:new(loc,MAX_FORCE,MAX_SPEED)
        table.insert(wanderers,wanderer)
    end
    
    Runtime:addEventListener( "enterFrame", animate );
end

Main()&lt;/code&gt;</pre>
  </div>
  
  <p>
    Here we declare an array of wanderers. In the Main() method we initialize each one, insert them into the array, and add a hook to call our animate method for each frame. Inside of the animate method, we simply tell each wanderer to wander and then run itself. The boid class will take care of the rest.
  </p>
  
  <p>
    One thing to note is, the boids are unaware of each other at this time. That requires a cohesion method. I have it written and might post it up at a later time; I just want to keep things simple for now. Please feel free to ask me questions in the comments or <a href="http://twitter.com/brandontreb">write me on Twitter</a>.
  </p>
  
  <p>
    You can download or fork the full source for this project <a href="https://github.com/brandontreb/Boids">here</a>.
  </p>
  
  <p>
    Happy Coding!
  </p>
  
  <p>
    <span style="font-family: ‚ÄòLucida Grande‚Äô;"><strong><span style="font-weight: normal;"><span style="font-family: arial, verdana, tahoma, sans-serif; font-size: 13px; line-height: 20px;"><em>ÔªøÔªøThis post is part of <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">iDevBlogADay</a>, a group of indie iOS development blogs featuring two posts per day. You can keep up with iDevBlogADay through the <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">web site</a>, <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://feeds.feedburner.com/idevblogaday">RSS feed</a>, or <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://twitter.com/#search?q=%23idevblogaday">Twitter</a>.</em></span></span></strong></span>
  </p>
  
  <div style="">
    <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-text="Autonomous Steering Behaviors In Corona SDK Games" data-url="http://brandontreb.com/autonomous-steering-behaviors-in-corona-sdk-games" data-via="brandontreb" data-related="brandontreb:">Tweet</a>
  </div>

 [1]: http://www.anscamobile.com/corona/
</center>

      <!-- <span class="post-date">04 Jun 2011</span> -->
      <footer class="post__footer">
          <small><time class="dt-published" datetime="2011-06-04T00:00:00-06:00"><a href="/autonomous-steering-behaviors-in-corona-sdk-games" title="Permalink to Microblog post" class="u-url">Sat, Jun 04, 2011 at 12:00am</time></a></small>
        </footer>
    </div>
  
  
  
    <div class="post">
      <h1 class="post-title">
        <a href="/check-out-autocorrector-promo-codes">
          Check Out AutoCorrector + Promo Codes!
        </a>
      </h1>

      <p><img src="/img/post_images/2011/05/iPhone Screenshot 1.jpeg" width="250" style="float:left;padding:5px;margin:5px;" /> So, this blog post might sound like a lame press release, but I actually do want to talk about a cool app some buddies of mine created. Just read it in a cheesy used car salesman voice and it will be a lot <del>less</del> more enjoyable.</p>

<h4 id="the-problem">The Problem</h4>

<p>Have you ever tried to type shorthand text to a friend and it come out completely wrong? For example: AFK -&gt; AFT, AKA -&gt; Aja. Or maybe your friend has an uncommon nickname that auto corrects to something hilarious‚Ä¶</p>

<h4 id="enter-autocorrector">Enter AutoCorrector</h4>

<p><a href="http://twitter.com/cruffenach">@cruffenach</a> , <a href="http://twitter.com/matt_tuzzolo">@matt_tuzzolo </a>, and <a href="http://twitter.com/damian_r">@damian_r</a> just released an app for the iPhone called <a href="http://bit.ly/imG1JN">AutoCorrector</a>! It‚Äôs an app that allows you add words to your iPhone‚Äôs auto correct dictionary. Once added, the iPhone will stop pestering you to auto correct uncommon/shorthand words that you frequently type.</p>

<h4 id="how-it-works">How It Works</h4>

<p>Adding words directly to the dictionary would be against the Apple SDK terms of use as it would require your app to run outside of it‚Äôs ‚Äúsandbox‚Äù. However, clever @cruffenach realized that when you add comma separated words to a contact‚Äôs nickname in the address book, they get added automatically to the iPhone‚Äôs dictionary.</p>

<p>This actually makes a lot of sense when you think about it. If you have a friend with a nickname, chances are you will want to address that person at some point by that nickname. It would get very annoying if you iPhone tried to autocorrect you every time you tried to type that friend‚Äôs name.</p>

<p>Auto corrector simply uses the AddressBook framework to maintain a contact with a nickname containing a list of words you have added. When you add a new word, it simply updates this contact.</p>

<h4 id="why-use-auto-corrector">Why Use Auto Corrector?</h4>

<p>Sure you could just do this manually, however it‚Äôs a pain and requires too many steps (6 taps vs. 2 taps for AC). Also, auto corrector provides a beautiful interface for entering and managing words you have added.</p>

<p><strong>Word Packs!</strong><br />
Bundled with AC, comes the SMS shorthand word pack with 116 words ready to install instantly. In the near future, the guys plan on creating a ton more word packs as well as provide a portal for community packs.</p>

<p>I‚Äôm pretty excited about this app and really think it has a good future.</p>

<p><a href="http://bit.ly/imG1JN">Download it here</a></p>

<p>What do you think? Would/did you buy it?</p>

<p><strong>Edit</strong><br />
Here are some promo codes!</p>

<pre>4YMPYNFJEWNE
MY6FTY49M4F6
H9KYWH9J4YPY
XW4EXHM67R34
AR6JN3RJYFE6
</pre>

<div style="">
  <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-text="Check Out AutoCorrector + Promo Codes!" data-url="http://brandontreb.com/check-out-autocorrector-promo-codes" data-via="brandontreb" data-related="brandontreb:">Tweet</a>
</div>


      <!-- <span class="post-date">27 May 2011</span> -->
      <footer class="post__footer">
          <small><time class="dt-published" datetime="2011-05-27T00:00:00-06:00"><a href="/check-out-autocorrector-promo-codes" title="Permalink to Microblog post" class="u-url">Fri, May 27, 2011 at 12:00am</time></a></small>
        </footer>
    </div>
  
  
  
    <div class="post">
      <h1 class="post-title">
        <a href="/beginning-jailbroken-ios-development-building-and-deployment">
          Beginning Jailbroken iOS Development &#8211; Building And Deployment
        </a>
      </h1>

      <p>Welcome to the next installment of my jailbroken iOS development series. If you haven‚Äôt already done so, read my previous post to get up to speed.</p>

<p><a href="/beginning-jailbroken-ios-development-getting-the-tools/">Beginning Jailbroken iOS Development ‚Äì Getting The Tools</a></p>

<p>Now that your environment has been set up, it‚Äôs time to start hacking your project, building, and deploying it. This tutorial will be fairly quick and will just demonstrate how to build a .deb file and install it on your device. This will not cover creating a Cydia repository for public access (this is for a later tutorial).</p>

<h4 id="introduction">Introduction</h4>

<p>Start by creating a simple project. Refer to the <a href="/beginning-jailbroken-ios-development-getting-the-tools/">previous tutorial</a> to determine how to do this. I will use the example of the #1 iphone/application and will be calling it fooProject.</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;$/opt/theos/bin/nic.pl
NIC 1.0 - New Instance Creator
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
  [1.] iphone/application
  [2.] iphone/library
  [3.] iphone/preference_bundle
  [4.] iphone/tool
  [5.] iphone/tweak
Choose a Template (required): 1
Project Name (required): fooProject
Package Name [com.yourcompany.fooproject]:    
Author/Maintainer Name [Brandon Trebitowski]: 
Instantiating iphone/application in fooproject/‚Ä¶
Done.&lt;/code&gt;</pre>
</div>

<p>This will create a new directory for our project with the following files.</p>

<ol>
  <li><strong>control</strong>: Contains information about your application/tweak. This is the info you see when you install something from Cydia (name, author, version, etc‚Ä¶)</li>
  <li><strong>[applicationName]Application.mm</strong>: This is essentially your appDelegate file. It creates a window, adds your RootViewController and displays it.</li>
  <li><strong>main.m</strong> : Same main file that you would use in an iPhone project. Just initializes your [applicationName]Application.mm file on launch.</li>
  <li><strong>Makefile</strong>: contains the necessary build commands to compile your project. I‚Äôll go over this in detail in a bit</li>
  <li><strong>Resources</strong>: This folder contains your info.plist and is also where you can place all of your images</li>
  <li><strong>RootViewController.h/mm</strong>: A simple view controller</li>
</ol>

<h4 id="the-makefile">The Makefile</h4>

<p>theos provides some great tools that simplify the build process as much as possible. I know some of you might shudder at the sound of a Makefile, but trust me, it‚Äôs very painless.</p>

<p>Let‚Äôs first take a look at the anatomy of the Makefile that was generated.</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;include theos/makefiles/common.mk&lt;/code&gt;</pre>
</div>

<p>This line simply tells theos to include the common make commands in your build script to save you some work.</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;APPLICATION_NAME = fooProject&lt;/code&gt;</pre>
</div>

<p>The name of the application we are building. The Makefile will use this constant to do a number of things under the hood. Don‚Äôt modify this unless your application changes names.</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;[applicationName]_FILES = main.m fooProjectApplication.mm RootViewController.mm&lt;/code&gt;</pre>
</div>

<p>This is the meat of the Makefile. It‚Äôs the list of m (or mm in this case) files that need to be compiled. *Note: you do not add your .h files here. So, whenever you add a new .m file to the project, make sure to append it to this list or it won‚Äôt get built.</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;[applicationName]_FRAMEWORKS = UIKit Foundation QuartzCore AudioToolbox CoreGraphics&lt;/code&gt;</pre>
</div>

<p>This line is not included by default, but is needed if you want to use ANY frameworks; be them Apple‚Äôs or h4x0red ones.</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;include $(THEOS_MAKE_PATH)/application.mk&lt;/code&gt;</pre>
</div>

<p>More defaults to help theos build your project.</p>

<h4 id="setting-up-your-environment">Setting up Your Environment</h4>

<p>Do you remember in the last tutorial that we had to set an environment variable in order to use theos? Well, we need to set a couple more to build and deploy.</p>

<p>Here are the 3 that you MUST have.</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;export THEOS=/opt/theos/
export SDKVERSION=4.3
export THEOS_DEVICE_IP=192.168.1.122&lt;/code&gt;</pre>
</div>

<p><img src="/img/post_images/2011/04/sbsettings.png" style="float:right;padding:5px" /></p>

<p>The first line, you should have already done. Otherwise you would not have been able to run the nic tool above. The second defines your current SDK version. This will tell theos where to look for your frameworks and whatnot. (ex If you only have 4.2 installed, set this to 4.2). Finally, the last line, tells theos the ip address of your device.</p>

<p>Once theos does the package install, it will sftp the package to your device for installation. One thing to note here is your iPhone MUST be on the same network as the computer you are developing on.</p>

<p>If you don‚Äôt know your device‚Äôs ip address, it‚Äôs in the SBSettings menu. If you don‚Äôt have SBSettings, go download it from Cydia and think about why you would have a jailbroken device without this app installed‚Ä¶</p>

<div style="clear:both">
  &nbsp;
</div>

<h4 id="building-the-project">Building The Project</h4>

<p>Building is just as easy as running the make command inside of your project‚Äôs root directory.</p>

<p>Here is an example of building my fooProject app using the command:</p>

<p><strong>make</strong>.</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;$ make
Making all for application fooProject‚Ä¶
 Compiling main.m‚Ä¶
 Compiling fooProjectApplication.mm‚Ä¶
 Compiling RootViewController.mm‚Ä¶
 Linking application fooProject‚Ä¶
 Stripping fooProject‚Ä¶
 Signing fooProject‚Ä¶&lt;/code&gt;</pre>
</div>

<p>If your project contains errors, they will be flushed out here. Also, theos treats warnings as errors (as should you) üòâ . So, if you have any warnings you won‚Äôt be able to build.</p>

<p>When you are ready to distribute your application, you must build a .deb package. Luckily, theos does this for us with a simple command:</p>

<p><strong>make package</strong>.</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;make package
Making all for application fooProject‚Ä¶
make[2]: Nothing to be done for ‚Äòinternal-application-compile‚Äô.
Making stage for application fooProject‚Ä¶
 Copying resource directories into the application wrapper‚Ä¶
dpkg-deb: building package ‚Äòcom.yourcompany.fooproject‚Äô in ‚Äò/Users/brandontreb/Desktop/fooproject/com.yourcompany.fooproject_0.0.1-1_iphoneos-arm.deb‚Äô.&lt;/code&gt;</pre>
</div>

<p>You should now see a file like <em>com.yourcompany.fooproject_0.0.1-1_iphoneos-arm.deb</em> in your project‚Äôs root directory. One great feature of theos is it handles versioning automatically. So subsequent builds will increment the build number. If you change your version in the info.plist file, it will start the build counter over (2-1, 2-2, etc‚Ä¶).</p>

<p>At this point, you <em>could</em> sftp this file to your device and run:</p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;dpkg -i com.yourcompany.fooproject_0.0.1-1_iphoneos-arm.deb&lt;/code&gt;</pre>
</div>

<p>as root to test the installation. However, that is quite a bit of a pain. Luckily, theos will do all of this for you by simply using the command:</p>

<p><strong>make package install</strong></p>

<div>
  <pre>&lt;code class=‚Äôbash‚Äô&gt;$ make package install
Making all for application fooProject‚Ä¶
make[2]: Nothing to be done for `internal-application-compile‚Äô.
Making stage for application fooProject‚Ä¶
 Copying resource directories into the application wrapper‚Ä¶
dpkg-deb: building package ‚Äòcom.yourcompany.fooproject‚Äô in ‚Äò/Users/brandontreb/Desktop/fooproject/com.yourcompany.fooproject_0.0.1-3_iphoneos-arm.deb‚Äô.
install.copyFile "/Users/brandontreb/Desktop/fooproject/com.yourcompany.fooproject_0.0.1-3_iphoneos-arm.deb" "com.yourcompany.fooproject_0.0.1-3_iphoneos-arm.deb"
root@192.168.1.122‚Äôs password: 
com.yourcompany.fooproject_0.0.1-3_iphoneos-arm.deb                                                                                                                                                                                                                              100% 4434     4.3KB/s   00:00    
install.exec "dpkg -i com.yourcompany.fooproject_0.0.1-3_iphoneos-arm.deb"
root@192.168.1.122‚Äôs password: 
Selecting previously deselected package com.yourcompany.fooproject.
(Reading database ‚Ä¶ 2006 files and directories currently installed.)
Unpacking com.yourcompany.fooproject (from com.yourcompany.fooproject_0.0.1-3_iphoneos-arm.deb) ‚Ä¶
Setting up com.yourcompany.fooproject (0.0.1-3) ‚Ä¶&lt;/code&gt;</pre>
</div>

<p>You will have to enter your password several times during the process. The default is <strong>alpine</strong>.</p>

<p>After this has been run, you will need to restart (or respring) your iPhone. Respringing takes a simple button tap if you have SBSettings installed (have you installed it yet?).</p>

<h4 id="conclusion">Conclusion</h4>

<p>You now have all of the tools needed to start hacking your very first jailbroken iOS application. In the next tutorial, we are going to learn about MobileSubstrate hacks and how to overwrite Apple functionality. I will give a basic example of how to display an alert message every time your device boots up.</p>

<p>Until next time, happy hacking!</p>

<div style="">
  <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-text="Beginning Jailbroken iOS Development - Building And Deployment" data-url="http://brandontreb.com/beginning-jailbroken-ios-development-building-and-deployment" data-via="brandontreb" data-related="brandontreb:">Tweet</a>
</div>


      <!-- <span class="post-date">22 Apr 2011</span> -->
      <footer class="post__footer">
          <small><time class="dt-published" datetime="2011-04-22T00:00:00-06:00"><a href="/beginning-jailbroken-ios-development-building-and-deployment" title="Permalink to Microblog post" class="u-url">Fri, Apr 22, 2011 at 12:00am</time></a></small>
        </footer>
    </div>
  
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page14">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page12">Newer</a>
    
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
