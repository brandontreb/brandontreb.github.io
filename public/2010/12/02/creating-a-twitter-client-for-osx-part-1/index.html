<!DOCTYPE html>
<html lang="en-us">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>
      
      Hack The Planet - Creating A Twitter Client For OSX &amp;#8211; Part 1
      
  </title>

  <meta name="description" content="this is meta :)">

  <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>%f0%9f%a6%a0</text></svg>">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/custom.css">
  <link rel="canonical" href="https://brandontreb.ngrok.io/2010/12/02/creating-a-twitter-client-for-osx-part-1/">

	<link rel="me" href="https://brandontreb.ngrok.io" />
	
	
	
	<link rel="authorization_endpoint" href="/indieauth/auth" />
	<link rel="token_endpoint" href="/indieauth/token" />
	<link rel="micropub" href="https://brandontreb.ngrok.io/micropub" />
	<link rel="microsub" href="https://brandontreb.ngrok.io/microsub" />
	<link rel="webmention" href="https://brandontreb.ngrok.io/webmention" />	
  
  
  
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Hack The Planet</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
		
			
				<a class="page-link" href="/archive/">Archive</a>
			
		
			
				<a class="page-link" href="/photos/">Photos</a>
			
		
			
				<a class="page-link" href="/replies/">Replies</a>
			
		
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
		
<div class="post h-entry">

  <header class="post-header">
	
	  	<h1 class="p-name">Creating A Twitter Client For OSX &amp;#8211; Part 1</h1>
  	
    <p class="post-meta">
	<a href="https://brandontreb.ngrok.io/2010/12/02/creating-a-twitter-client-for-osx-part-1/" class="u-url"><span class="post-meta"><time class="dt-published" datetime="2010-12-02 01:00:00 -0600">Dec 2, 2010</time></span></a>
	
	</p>
  </header>

  <article class="post-content e-content">
	<p>With the upcoming release of the Mac App Store, I can only imagine another gold rush is upon us. Clever Indie developers making money hand over fist while the store as well as developers find their identities. With that being said, I feel that there is a serious lack of interesting (maintained) Twitter clients for OSX. I say “maintained” because Tweetie for OSX is just fantastic, however Twitter said they don’t have any plans for it at this time. So, I want to provide devs with the tools to create an amazing Twitter client for the Mac that I will want to use <img src="/uploads/2010/simple-smile.png" alt=":)"></p>
<p>Quite some time ago, I began (and never completed) a series on <a href="http://brandontreb.com/objective-c-programming-tutorial-creating-a-twitter-client-part-1/">writing a Twitter client for OSX</a>. It was very well received by the development community, however once Twitter switched over to OAUTH, I became too lazy to update it <img src="/uploads/2010/frownie.png" alt=":("> . So, I figured a tutorial series for <a href="http://idevblogaday">#iDevBlogADay</a> would be the perfect opportunity to complete it.</p>
<p>So we are going to start from the ground up. In today’s tutorial, we are going walk through getting the initial resources and setting up Twitter to authenticate our application. We will also post a basic tweet.</p>
<h4 id="setting-up-twitter">Setting Up Twitter</h4>
<p>In order for your application to interface with Twitter, you must register it with them over at <a href="http://developer.twitter.com">http://developer.twitter.com</a>.</p>
<ol>
<li>Go to <a href="http://developer.twitter.com">http://developer.twitter.com</a> and sign up if needed</li>
<li>Click on <a href="http://developer.twitter.com/apps">Your Apps</a></li>
<li>Click <a href="http://developer.twitter.com/apps/new">Register A New App</a> and fill out all of the information about your client</li>
<li>You’re all set!</li>
</ol>
<h4 id="getting-necessary-resources">Getting Necessary Resources</h4>
<p>I spent a bit of time researching the various options for handling OAUTH and all of the fun stuff that goes along with Twitter integration and found that <a href="https://github.com/mattgemmell/MGTwitterEngine/">MGTwitterEngine</a> was the least painful to implement. I say least painful because it has a few quirks of it’s own along with not having the best documentation in the world.</p>
<p>So after battling for a bit to get the thing compiled, I have figured out the setup process :). You could also read <a href="https://github.com/mattgemmell/MGTwitterEngine/wiki/Building-and-testing-MGTwitterEngine">Matt’s installation instructions</a>, but I will regurgitate them here a little differently and hopefully be more clear. So here it is:</p>
<ol>
<li>Make sure you have git installed. If not, <a href="http://code.google.com/p/git-osx-installer/">download it for OSX here</a>.</li>
<li>cd to the directory that you want to clone the files to</li>
<li>Clone the MGTwitterEngine repository. Type:</li>
</ol>
<p>$ <strong>git clone git://github.com/mattgemmell/MGTwitterEngine.git</strong>
4. cd into the MGTwitterEngine folder (we will install the dependancies at this level)
5. Now install the dependancies (<a href="https://github.com/schwa/TouchJSON">TouchJSON</a> and <a href="https://github.com/ctshryock/oauthconsumer">OAUTHConsumer</a>). Note: There is an option to use yajl (yet another json library), but I found it a pain to integrate, so we will just throw it out.</p>
<p>$ <strong>git clone git://github.com/schwa/TouchJSON.git</strong></p>
<p>$ <strong>git clone git://github.com/ctshryock/oauthconsumer.git</strong></p>
<p>Altogether, this is the order of commands you should have:</p>
<pre tabindex="0"><code>&lt;code class=’bash’&gt;$ cd ~/Desktop
$ git clone git://github.com/mattgemmell/MGTwitterEngine.git
$ cd MGTwitterEngine
$ git clone git://github.com/schwa/TouchJSON.git
$ git clone git://github.com/ctshryock/oauthconsumer.git&lt;/code&gt;
</code></pre><h4 id="building-mgtwitterengine-what-a-freakin-pain">Building MGTwitterEngine (What a freakin pain)</h4>
<p>I find it interesting that this project is riddled with errors directly upon download. So much work went into it, yet it’s so challenging to get working.</p>
<p>Now open up MGTwitterEngine.xcodeproj. You will notice that there are quite a few missing files (they show in red). That’s fine. DELETE THEM ALL…</p>
<ol>
<li>Delete the <strong>yajl</strong> group with everything in it</li>
<li>Delete the <strong>Twitter YAJL Parsers</strong> group and everything in it</li>
<li>Delete <strong>OAToken_KeychainExtensions.m</strong> and <strong>OAToken_KeychainExtensions.h</strong> (they are not used)</li>
<li>Delete <strong>CJSONDataSerializer.h</strong> and <strong>CJSONDataSerializer.m</strong></li>
<li>Delete <strong>CSerializedJSONData.h</strong> and <strong>CSerializedJSONData.m</strong></li>
<li>Click the arrow on the OAuthConsumer group and you will notice that the <strong>Crypto</strong> is missing. We still need this group, but it’s in the wrong place. Delete this group and then open up your MGTwitterEngine folder in Finder. Navigate to <strong>MGTwitterEngine-&gt;oauthconsumer</strong>. Drag the <strong>Crypto</strong> folder into your project.</li>
<li>We need to change the C Language Dialect to C99. To do this right click on MGTwitterEngine in XCode and click Get Info. Scroll down to C Language Dialect and click the drop down changing it to C99</li>
</ol>
<p><a href="http://brandontreb.com/wp-content/uploads/2010/12/Screen-shot-2010-12-02-at-9.22.12-PM.png"><img src="/uploads/2010/Screen-shot-2010-12-02-at-9.22.12-PM.png" alt="" title="Screen shot 2010-12-02 at 9.22.12 PM"></a>
8. Finally, we need to tell MGTwitterEngine that we want to use TouchJSON instead of yajl. To do this open up <strong>MGTwitterEngineGlobalHeader.h</strong> and set TOUCHJSON_AVAILABLE to 1.
9. If you still have any hair left at this point, click Build and Run to and check out the output in the Console
10. If you don’t feel like jumping through all of these hoops you can download my MGTwitterEngine project with all of this fun stuff completed. <a href="http://brandontreb.com/wp-content/uploads/2010/12/MGTwitterEngine.zip">Download it here</a>.</p>
<h4 id="testing-mgtwitterengine">Testing MGTwitterEngine</h4>
<p>For today’s tutorial, we will just be displaying our timeline and updating our status using the demo file provided by MGTwitterEngine. In the next tutorial, we will actually be integrating the engine into a new project. So, open up <strong>AppController.m</strong> in the <strong>Demo</strong> group. Matt has given us some nice variables to fill in, in order to make this thing work. Let’s update to applicationDidFinishLaunching method to look like the code below:</p>
<pre tabindex="0"><code>&lt;code class=’objc’&gt;- (void)applicationDidFinishLaunching:(NSNotification *)aNotification
{
        // Put your Twitter username and password here:
        NSString *username = @&#34;brandontreb&#34;;
    NSString *consumerKey = @&#34;aKKEsJHTDNsv4xVlMHmMqw&#34;;
    NSString *consumerSecret = @&#34;oldpeoplenakedcriscotwister&#34;;
</code></pre><pre><code>// Create a TwitterEngine and set our login details.
twitterEngine = [[MGTwitterEngine alloc] initWithDelegate:self];
</code></pre>
<p>[twitterEngine setUsesSecureConnection:NO];
[twitterEngine setConsumerKey:consumerKey secret:consumerSecret];
[twitterEngine setUsername:username];
token = [[OAToken alloc] initWithKey:@&ldquo;16369316-GgqA00WO0poCAj0XAFhJYDDRthVvWMxTnVyKdfWa1&rdquo;
secret:@&ldquo;StrongEnoughForAManButMadeForAWoman&rdquo;];
[twitterEngine setAccessToken:token];
[twitterEngine getHomeTimelineSinceID:0 startingAtPage:0 count:20];</p>
<pre tabindex="0"><code>
}&lt;/code&gt;
</code></pre><p>So obviously I changed my consumer secret and Access Token Secret. You will need to fill this out with your information. Here is how to obtain them.</p>
<p><strong>Consumer Key &amp; Consumer Secret</strong></p>
<p>When logged into <a href="http://developer.twitter.com/apps/">http://developer.twitter.com/apps/</a> , click on the application that you created in the first step:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2010/12/Screen-shot-2010-12-02-at-9.51.55-PM.png"><img src="/uploads/2010/Screen-shot-2010-12-02-at-9.51.55-PM.png" alt="" title="Screen shot 2010-12-02 at 9.51.55 PM"></a></p>
<p>Scroll down and you should see the Consumer Key and the Consumer Secret.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2010/12/Screen-shot-2010-12-02-at-9.50.46-PM.png"><img src="/uploads/2010/Screen-shot-2010-12-02-at-9.50.46-PM.png" alt="" title="Screen shot 2010-12-02 at 9.50.46 PM"></a></p>
<p><strong>Access Token &amp; Access Token Secret</strong></p>
<p>In the right column, you should see a link titled “My Access Token”. Click on it.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2010/12/Screen-shot-2010-12-02-at-9.52.05-PM.png"><img src="/uploads/2010/Screen-shot-2010-12-02-at-9.52.05-PM.png" alt="" title="Screen shot 2010-12-02 at 9.52.05 PM"></a></p>
<p>Now you should see YOUR Access Token and Access Token Secret</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2010/12/Screen-shot-2010-12-02-at-9.52.15-PM.png"><img src="/uploads/2010/Screen-shot-2010-12-02-at-9.52.15-PM.png" alt="" title="Screen shot 2010-12-02 at 9.52.15 PM"></a></p>
<h4 id="have-fun">Have Fun!</h4>
<p>After you copy the tokens, keys, and secrets into the app, you should be able start making calls to Twitter using the engine. Build and run the application at this point and watch your home timeline get output to the console. One thing I want to point out is we are displaying an NSDictionary. That means MGTwitterEngine did all of the parsing for us (using TouchJSON), which is super rad.</p>
<p>One more thing to try for fun is to update your status. It will even show that you updated it from YOUR application on Twitter. Add the following line and run it again.</p>
<pre tabindex="0"><code>&lt;code class=’objc’&gt;[twitterEngine sendUpdate:@&#34;@brandontreb is a code gangster!  Check out his #iDevBlogADay post on making your own Twitter client here http://bit.ly/gGrZvI&#34;];&lt;/code&gt;
</code></pre><p>Well, that does it for today. Join me next week when I will show you how to move the engine into your own project and we will begin displaying tweets in a basic table view.</p>
<p>Happy Coding!</p>
<p><a href="http://brandontreb.com/creating-a-twitter-client-for-osx-part-2-displaying-tweets/">Click Here To Go To Part 2</a></p>
<p>—-</p>
<p><em><strong>﻿﻿This post is part of <a href="http://idevblogaday.com/">iDevBlogADay</a>, a group of indie iOS development blogs featuring two posts per day. You can keep up with iDevBlogADay through the <a href="http://idevblogaday.com/">web site</a>, <a href="http://feeds.feedburner.com/idevblogaday">RSS feed</a>, or <a href="http://twitter.com/#search?q=%23idevblogaday">Twitter</a>.</strong></em></p>
<p><a href="http://twitter.com/share">Tweet</a></p>

	<div id="post-meta" class="clearfix p-author h-card">
  <a href="/" class="u-url" rel="me">
  <img class="u-photo avatar" src="https://brandontreb.ngrok.io/avatar.png" width="96" height="96">
  <div>
    <span class="p-name dark">|ZeroCool|</span>
    <span><a href="https://brandontreb.ngrok.io">@</a></span>
    <p class="p-note"></p>
  </div>	
  </a>
</div>
  </article>

</div>




      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-3">
        <p class="text"></p>
      </div>
    </div>

  </div>

</footer>

    
    
    
  </body>

</html>
