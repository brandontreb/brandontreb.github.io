<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content="" name="author">

  <title>Brandontreb
		- My Journey To Create The inPulseNotifier For Jailbroken iPhones &amp;#8211; Part 1</title>

  <link href="/assets/css/style.css?" rel="stylesheet">
  <link href="/assets/css/highlight.css?" rel="stylesheet">
  <link href="/assets/css/alpine.css?" rel="stylesheet">
  <style>

.site-title {
	display: inline-block;
	font-size: 14px;
	font-weight: 500;
	line-height: 1.35;
	padding-left: 5px;
	margin-top: 0px;
	margin-bottom: 5px;
	padding-top: 5px;
	padding-bottom: 10px;
}

nav.main-nav a.cta {
	background: #ffffff;
	color: #f29c38;
	padding: 6px 14px;
	border: 2px solid #f29c38;
	border-radius: 20px;
	white-space: nowrap;
	box-shadow: none;
}

nav.main-nav a.cta:hover {
	background: #fffee4;
	color: #f29c38;
	margin-left: 12px;
}

</style>

  <link rel="stylesheet" href="/custom.css?">

	<link rel="shortcut icon" href="https://micro.blog/brandontreb/favicon.png" type="image/x-icon" />
    
    
      <link href="https://brandontreb.github.io/podcast.xml" rel="alternate" type="application/rss+xml" title="Podcast" />
      <link rel="alternate" type="application/json" title="Brandontreb" href="https://brandontreb.github.io/feed.json" />
      <link rel="EditURI" type="application/rsd+xml" href="https://brandontreb.github.io/rsd.xml" />
    

	<link rel="me" href="https://micro.blog/brandontreb" />
	
	
		<link rel="me" href="https://github.com/brandontreb" />
	
	
	<link rel="authorization_endpoint" href="https://micro.blog/indieauth/auth" />
	<link rel="token_endpoint" href="https://micro.blog/indieauth/token" />
	<link rel="micropub" href="https://micro.blog/micropub" />
	<link rel="microsub" href="https://micro.blog/microsub" />
	<link rel="webmention" href="https://micro.blog/webmention" />
	<link rel="subscribe" href="https://micro.blog/users/follow" />
    
    
</head>

<body>
  <nav class="main-nav">

	<div class="site-title">
		<img src="https://avatars.githubusercontent.com/u/92844?v=4" width="25" height="25" class="site-image">		
		<a href="/">Brandontreb</a>
	</div>

	<div class="site-menus">

	

	

	
		<a href="/about/">About</a>
	
		<a href="/contact/">Contact</a>
	
		<a href="/">Home</a>
	

	<a class="cta" href="https://micro.blog/brandontreb" rel="me">Also on Micro.blog</a>

	</div>
</nav>



  <section id="wrapper" >
	
<article class="h-entry post">
  <header>
	
    <h1 class="p-name">My Journey To Create The inPulseNotifier For Jailbroken iPhones &amp;#8211; Part 1</h1>
    
    <h2 class="headline">
      <time class="dt-published" datetime="2011-04-12 00:00:00 &#43;0000">
        <a class="u-url dates" href="https://brandontreb.github.io/2011/04/12/my-journey-to-create-the-inpulsenotifier-for-jailbroken-iphones-part-1/">Apr 12, 2011</a>
      </time>
    </h2>
  </header>
  <section class="e-content post-body">
      <p>Many of you may have seen my tweets or blog posts regarding my development of a native iOS interface for the <a href="http://getinpulse.com">inPulse Watch</a>. I just wanted to share a bit with you about the development process and talk about my updates moving forward.</p>
<h4 id="what-is-the-inpulse-watch">What is the inPulse Watch?</h4>
<p>For those of you who don’t know, the inPulse watch is a programmable wristwatch with a bluetooth controller. It can run a single app at a time on top of it’s firmware that is installed on the watch via a bluetooth interface with your computer. People have written all sorts of apps from analog clocks to roguelikes and Connway’s Game of Life. Check out <a href="http://inpulsewatch.com/watchapps.asp">http://inpulsewatch.com/watchapps.asp</a> to see the latest apps.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h4 id="it-begins">It Begins</h4>
<p>After waiting about 10 days for my watch (yeah it’s a long waiting period since they have seen quite a bit of recent success), it finally came in the mail. Enthusiastically, I opened it up and followed their <a href="http://www.getinpulse.com/guide/">getting started guide</a>. Within a few minutes I was running some of the sample applications in the forums.</p>
<h4 id="no-ios-support">No iOS Support?</h4>
<p>One of the coolest features of the watch is the ability to have your smartphone notifications show up on it. You are able to read SMS, Email, Calendar, etc… for a wide variety of Blackberry and Android phones.</p>
<p>After digging around a bit, I was disappointed to see that there was limited (no) iPhone support. They had some old file that used BTStack at some point to communicate a simple canned message to the iPhone. No documentation, no support, nada.</p>
<h4 id="building-the-app">Building The App</h4>
<!-- raw HTML omitted -->
<p>As I had no experience developing for a jailbroken iPhone, I had no idea how to even compile this sample app. So, I used the Google machine and found the <a href="http://code.google.com/p/btstack/">Google repository</a> for BTStack (the bluetooth library of choice for jailbroken iOS apps). I was able to download the source and build a sample application that basically connected my iPhone to a bluetooth device.</p>
<p>Well, this got me started. So I did what any curious developer would do and started plugging crap in. I replaced the sample file that was packaged with BTStack with a slightly modified version of inPulse’s sample iPhone file. Sure enough, I was able to build and install it.</p>
<h4 id="we-have-connection">We Have Connection</h4>
<p>After figuring out how to hardcode my watch’s address into the source, I was able to determine that the iPhone had actually connected to the watch. I monitored the packets and threw up an alert view (No NSLogging available at this point) when a connection was made.</p>
<p>So, now that we are connected, let’s trying sending the sample message…fail! I couldn’t even send the time.</p>
<p>At this point, I decided to move the code I had written into a sample iPhone project so that I could do attached debugging. This showed me that the packets were arriving on the watch since I received an ack packet back. So, the watch sees the messages, but doesn’t consider them notifications.</p>
<h4 id="time-to-hit-the-docs">Time to hit the docs</h4>
<!-- raw HTML omitted -->
<p>Sure enough, they had upped the version number of their protocol by 1 and mine was outdated. So, I updated what I could and gave it another shot…fail.</p>
<p>No messages were displaying. At this point I was ready to give up. I read online somewhere that the BT implementation on the watch was not supported by inPulse and felt dead in the water. So I took a break for a couple days.</p>
<p>When I came back to it, I was tapping through my watch and noticed that the calendar appointments had some data in them on the watch. Could it be? Did my notifications arrive? (I was trying to send SMS notifications). So I dug into the docs again…</p>
<h4 id="we-have-a-message">We have a message!!!</h4>
<!-- raw HTML omitted -->
<p>Sure enough, I had some fields declared as * uint16_t * when they should have been * uint8_t * . My headers were the wrong size!!! All of a sudden I was able to send every type of notification to the watch and have it displayed.</p>
<p>It was now time to build out an actual application for release to inPulse. The next hurdle would be hooking into the iPhone’s messaging system and forwarding along the messages. Now the real iPhone hacking begins.</p>
<p><a href="/my-journey-to-create-the-inpulsenotifier-for-jailbroken-iphones-part-2">This post is continued here</a></p>
<!-- raw HTML omitted -->

      BASE https://brandontreb.github.io

  </section>

  

  <section id="post-meta" class="clearfix p-author h-card">
    <a href="/" class="u-url">
  	
		<img class="u-photo avatar" src="https://avatars.githubusercontent.com/u/92844?v=4" width="96" height="96">
		<div>
		  <span class="p-name dark"></span>
		  <span><a href="https://micro.blog/brandontreb">@brandontreb</a></span>
		</div>
	
    </a>
  </section>
</article>

  </section>
  <footer id="footer">

<section id="wrapper">
  <ul>
    <li><a href="/feed.xml">RSS</a></li>
    <li><a href="/feed.json">JSON Feed</a></li>
    <li><a href="/surprise-me/">Surprise me!</a></li>


  </ul>
  <form method="get" id="search" action="https://duckduckgo.com/">
    <input type="hidden" name="sites" value="https://brandontreb.github.io/"/>
    <input type="hidden" name="k8" value="#444444"/>
    <input type="hidden" name="k9" value="#ee4792"/>
    <input type="hidden" name="kt" value="h"/>
    <input class="field" type="text" name="q" maxlength="255" placeholder="To search, type and hit Enter…"/>
    <input type="submit" value="Search" style="display: none;" />
  </form>
</section>

</footer>
  
		
</body>
</html>
