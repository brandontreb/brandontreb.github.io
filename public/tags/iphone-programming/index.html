<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content="" name="author">

  <title>Brandontreb
		- iPhone Programming</title>

  <link href="/assets/css/style.css?" rel="stylesheet">
  <link href="/assets/css/highlight.css?" rel="stylesheet">
  <link href="/assets/css/alpine.css?" rel="stylesheet">
  <style>

.site-title {
	display: inline-block;
	font-size: 14px;
	font-weight: 500;
	line-height: 1.35;
	padding-left: 5px;
	margin-top: 0px;
	margin-bottom: 5px;
	padding-top: 5px;
	padding-bottom: 10px;
}

nav.main-nav a.cta {
	background: #ffffff;
	color: #f29c38;
	padding: 6px 14px;
	border: 2px solid #f29c38;
	border-radius: 20px;
	white-space: nowrap;
	box-shadow: none;
}

nav.main-nav a.cta:hover {
	background: #fffee4;
	color: #f29c38;
	margin-left: 12px;
}

</style>

  <link rel="stylesheet" href="/custom.css?">

	<link rel="shortcut icon" href="https://micro.blog/brandontreb/favicon.png" type="image/x-icon" />
    
    
      <link href="https://brandontreb.github.io/podcast.xml" rel="alternate" type="application/rss+xml" title="Podcast" />
      <link rel="alternate" type="application/json" title="Brandontreb" href="https://brandontreb.github.io/feed.json" />
      <link rel="EditURI" type="application/rsd+xml" href="https://brandontreb.github.io/rsd.xml" />
    

	<link rel="me" href="https://micro.blog/brandontreb" />
	
	
		<link rel="me" href="https://github.com/brandontreb" />
	
	
	<link rel="authorization_endpoint" href="https://micro.blog/indieauth/auth" />
	<link rel="token_endpoint" href="https://micro.blog/indieauth/token" />
	<link rel="micropub" href="https://micro.blog/micropub" />
	<link rel="microsub" href="https://micro.blog/microsub" />
	<link rel="webmention" href="https://micro.blog/webmention" />
	<link rel="subscribe" href="https://micro.blog/users/follow" />
    
    
</head>

<body>
  <nav class="main-nav">

	<div class="site-title">
		<img src="https://avatars.githubusercontent.com/u/92844?v=4" width="25" height="25" class="site-image">		
		<a href="/">Brandontreb</a>
	</div>

	<div class="site-menus">

	

	

	
		<a href="/about/">About</a>
	
		<a href="/contact/">Contact</a>
	
		<a href="/">Home</a>
	

	<a class="cta" href="https://micro.blog/brandontreb" rel="me">Also on Micro.blog</a>

	</div>
</nav>



  <section id="wrapper" >
	
  <ul id="post-list">


	
	
		<li>
<article>
  
  <section class="post-body">
  <header>
	<h2><a href="https://brandontreb.github.io/2014/01/01/learned-first-year-ios-consulting/">What I Learned In My First Year Of iOS Consulting</a></h2>
  </header>
  <section class="post-body">
	<p>Wow, I canâ€™t believe it has already been a full year since I struck it out on my own. Â Last year, I <a href="http://brandontreb.com/what-i-learned-in-my-first-month-being-a-contract-ios-developer">published a post</a> after my first month on doing contract iOS development. Â Needless to say, I have grown and learned quite a bit over the past year and I wanted to share some of those experiences.</p>
<h3 id="income">Income</h3>
<p>While I wonâ€™t share exact numbers, I left my 6 figure/year job to pursue the indie/consulting life. Â During the course of the year, I was able to amass 40% more income in 2013 than I had at my previous position.</p>
<p>In addition to that, I had the time to launch a couple iOS applications and thus upping my Apple income by about 20% this year.</p>
<h3 id="network-network-network">Network Network Network</h3>
<p>I would say spending time networking and meeting people is just as important as being able to write code if you want to be successful on your own. Â Through out the year, I dedicated at least five to ten hours a week just meeting with people, talking on the phone, and making new connections.</p>
<p>Often times, I would get contract opportunities that I knew for sure that I wasnâ€™t going to take; either because I didnâ€™t love the project, or (more often than not) because I didnâ€™t have the bandwidth to take them on. Â However, rather than just writing the client back â€œ<em>I donâ€™t have time</em>â€œ, I would take the call (or meeting in town), make the connection, and even listen to details about the contract.</p>
<p>My wife would tell me to stop wasting my time and that those hours would be better spent on project work that actually made money. Â However, these contacts are arguablyÂ <strong>more</strong> valuable than the hours â€œlostâ€. Â In many situations, I have reached out to those potential clients weeks or months later once I hired a new developer and was then able signed a contract. Â If I had declined the meeting to begin with, they probably wouldnâ€™t have been as inclined to work with me so readily.</p>
<h3 id="subcontractors"><strong>Subcontractors</strong></h3>
<p>Subcontracting has been a mixed bag for me. Â <!-- raw HTML omitted -->It seems to be the only (safe-ish) way to expand your business as a consultant, other than hiring full time developers. Â So, if you want to be able to work less yourself (which is almost never the case) or increase your companies revenue, you need to hire out. Â <!-- raw HTML omitted --></p>
<p>Once I found the right people, subcontracting was a dream. Â I was able to reach more clients, still deliver the same value in the work, and achieve the clientâ€™s goals, all while expanding my business.</p>
<p>The main challenge I have had is deciding whether to hire subcontractors from here in the states or â€œoffshoreâ€. Â They both have their benefits and complications. Here are some I have found:</p>
<p><strong>Benefits of hiring in the states:</strong></p>
<ul>
<li>Communication â€“ Most of the time their timezones are close enough that one of you is not inconvenienced to communicate in real time.</li>
<li>Trust From Clients â€“ Some clients still have some issues with â€œoffshoreâ€, especially because many of them have tried their hand at the ODesk lottery and have lost. Â So, saying you have US based team members sometimes makes them more comfortable. Itâ€™s unfortunate, but I have seen it to be true in some cases.</li>
<li>Colleagues â€“ Often times you already know or have worked with these guys since starting with acquaintances/friends is a good place to look for developers.</li>
</ul>
<p><strong>Complications hiring in the states</strong></p>
<ul>
<li>Cost â€“ US devs are expensive. Â Most of the time they have full time jobs and want to do consulting on the side. Â So it is important that they get paid more to do contract work than their day job pays.</li>
<li>ColleaguesÂ â€“ This is on the negative list as well because hiring people you know can get weird if things go awry.</li>
</ul>
<p>**Benefit of Offshore developersÂ **</p>
<ul>
<li>Cost â€“ I put this here, however that doesnâ€™t mean I hire â€œcheapâ€ developers. Â Honestly, if you are not paying a contractor well, you are either under paying him and should give him a raise OR he shouldnâ€™t be working for you as heâ€™s probably too junior.</li>
<li>Perspective â€“ I have some incredible developers in other countries that have taught me quite a bit whether itâ€™s about development, process, culture, or even my own code. Â Itâ€™s a great opportunity to learn.</li>
</ul>
<p>**Problems with Offshore developersÂ **</p>
<ul>
<li>Location â€“ Timezone issuesÂ <em>can</em> be a problem if you let them. Â For example, I have a developer who lives in a completely different timezone than my own. Â However, he does a fantastic job of being available when he is needed. Â I have had other instances where it was very challenging to reach my developer in an event where I needed information on short notice.</li>
<li>Vetting Process â€“ Finding developers is a little more tricky. Â With devs in the states, you can just head to a local meet up or conference, but finding GOOD â€œoffshoreâ€ devs is a little trickier. Â I have lucked out a few times, but for the most part itâ€™s a bit more work. Â I would suggest spending a little of your own money to adequately search and vet each candidate.</li>
<li>Language â€“ While doing iOS development, you may need your client and your developer to communicate with one another. Â That being said, itâ€™s vital to find a developer who <em>you</em> can understand and who can understand you in order to make communication possible.</li>
</ul>
<h3 id="hiring-an-assistant">Hiring An Assistant</h3>
<p>Taking a page from Tim Ferrisâ€™Â <em>4 Hour Work Week</em>, I decided to hire an assistant. Â Ferris suggests â€œvirtualâ€, however, I have hired one locally (sheâ€™ll be proofreading this post ğŸ˜‰ ). Â I think itâ€™s one of the best decisions I have made as a business owner. Â Here is just a short list of things she handles for me:</p>
<ul>
<li>Contracts</li>
<li>Invoicing</li>
<li>Payments of contractors</li>
<li>Research</li>
<li>Phone calls</li>
<li>Personal issues (like returns, purchasing equipment, etc.)</li>
</ul>
<p>Even if she saves me two hours per week, she has paid for herself, and believe me, she saves me much more than that.</p>
<h3 id="never-decline-a-contract">Never Decline A Contract</h3>
<p>I mentioned this earlier in the post, but I want to reiterate it here. Â I seldom tell clients â€œnoâ€ and I really feel that it has worked out to my benefit. Â At the very least, I hear them out and add them as a contact to keep in mind for the future.</p>
<p>What I generally do when I canâ€™t take on a client is I will give them an estimate of when myself or a member of my team will be available. Â That way, if they are okay with the timeline, I can keep the pipeline open. Â If not, there is no harm done. Â Also, if I hire another developer before the time I said I was available, sometimes the client will still have the need and I am able to fill it.</p>
<p>If I absolutely donâ€™t have time or donâ€™t want a particular contract, I will refer the client out to other dev shops. Â I donâ€™t look at this as competition, but rather opportunity as I would hope they would do the same for me one day. Â As an added bonus, some of them have a referral fee so you can at least profit from pairing the client up.</p>
<h3 id="taxes">Taxes</h3>
<p>I have found out that taxes are less fun when you are self-employed than when you are employed by a business. Â Luckily my wife is MUCH better at money management than I am, so she set up a separate tax account where roughly 40% of our income would go.</p>
<p>One of the other good decisions I made besides hiring an assistant was hiring a CPA. Â She has saved me countless hours and fees and is worth her weight in gold.</p>
<p>Hire a CPA from day one; you will never regret it.</p>
<h3 id="family">Family</h3>
<p>I know this is a â€œbusinessâ€ related post, but I have to mention this. Â Having a wife and kids, I am very much a family man. Â Working for myself has been such a blessing since I have been able to spend considerably more time with my family than when I was employed by someone else.</p>
<p>For example, if itâ€™s a nice summer day and the family decides to head to the zoo, I can just go without asking a boss for time off or taking PTO. Â I simply work in the evening or more hours the next day to recoup the time. Â Personal time management is key to be able to have this kind of freedom.</p>
<h3 id="summary">Summary</h3>
<p>Overall, 2013 was an incredible year. Â While I did make mistakes (a ton), I gained so much knowledge and had a blast doing so. Â Going solo isnâ€™t for everyone (some days I wonder why everyone** isnâ€™t** doing it, and others I wonder why I <strong>am</strong>), but itâ€™s been one of the most exciting experiences of my life.</p>
<p>I look forward to what 2014 brings and seeing how I can continue to grow my consultancy.</p>
<p>Happy New Year and Happy Hacking!</p>
<!-- raw HTML omitted -->

  BASE https://brandontreb.github.io

  </section>
  </section>
  
  <a href="https://brandontreb.github.io/2014/01/01/learned-first-year-ios-consulting/" class="u-url">
	<aside class="dates">
	  <time datetime="2014-01-01 00:00:00 &#43;0000" class="dt-published">â†’ 12:00 AM, Jan 1</time>
	</aside>
  </a>
</article>
</li>
<span class="separator"><span class="divider"></span></span>

	
		<li>
<article>
  
  <section class="post-body">
  <header>
	<h2><a href="https://brandontreb.github.io/2013/08/15/iphone-programming-tutorial-creating-an-image-gallery-like-over-part-2/">iPhone Programming Tutorial: Creating An Image Gallery Like Over &amp;#8211; Part 2</a></h2>
  </header>
  <section class="post-body">
	<p><a href="http://brandontreb.com/wp-content/uploads/2013/08/Screen-Shot-2013-08-09-at-8.36.42-PM.png"><!-- raw HTML omitted --></a></p>
<p>Â </p>
<p>Welcome to the second part of my tutorial series â€œ<strong>Creating An Image Gallery Like Overâ€.</strong> Â In this part of the tutorial, you will learn how to actually display the photos in the UICollectionView as well as give the user the ability to take photos with their camera.</p>
<p>If you havenâ€™t already done so, please go back and<a href="http://brandontreb.com/iphone-programming-tutorial-creating-an-image-gallery-like-over-part-1"> complete part 1</a>.</p>
<h3 id="1-custom-uicollectionviewcell">1. Custom UICollectionViewCell</h3>
<p>Start by creating a new subclass ofÂ <strong>UICollectionViewCell</strong>Â and naming itÂ **PhotoCell. Â **Now, open up PhotoCell.h and add the following code:</p>
<!-- raw HTML omitted -->
<p>Now, open PhotoCell.m and add the following code:</p>
<!-- raw HTML omitted -->
<ol>
<li>This is anÂ **IBOutletÂ **to aÂ <strong>UIImageView</strong>Â that we will create inside of the Storyboard</li>
<li>We overwrite the setter method for the asset in order to convert the assetâ€™s thumbnail into a UIImage and set it to the contents of the UIImageView</li>
</ol>
<p>Now that we have the custom cell created, we need to hook it up and create the UIImageView inside of Storyboard. Â OpenÂ **MainStoryboard.storyboardÂ **and click on the defaultÂ <strong>UICollectionViewCell</strong>Â inside of yourÂ <strong>UICollectionView.</strong></p>
<p>It might be tricky to see the cell as it has a white background and blends in, but itâ€™s there.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-24-at-6.43.38-PM.png"><!-- raw HTML omitted --></a></p>
<p>Now, click on theÂ <strong>Identity Inspector</strong>Â from the right side bar and change the class toÂ <strong>PhotoCell.</strong>Â Â This will inform interface builder that this object is of the type PhotoCell and let us hook up the photoImageView outlet.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-24-at-6.46.35-PM.png"><!-- raw HTML omitted --></a></p>
<p>Next, open the size inspector, change the size toÂ **Custom,Â **the width toÂ **104Â **and the height toÂ <strong>104.</strong>Â Â This will give us nice sized images, with a good amount of padding between them.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-24-at-6.49.51-PM.png"><!-- raw HTML omitted --></a></p>
<p>TheÂ <strong>UICollectionView</strong>Â will overwrite these sizes, so we need to change it in one other location. Â To ensure that the cells stay the correct size, click on theÂ <strong>Collection View</strong>Â in left side bar and open itâ€™sÂ <strong>Size Inspector</strong>. Â Then set theÂ <strong>Cell Size</strong>Â width and height to 104.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-24-at-7.07.14-PM.png"><!-- raw HTML omitted --></a></p>
<p>The final step here is to drag aÂ <strong>UIImageView</strong>Â on to your cell (scaling it to fit the entire cell size), and hook up theÂ <strong>IBOutlet</strong>Â to the photoImageView. Do this by control-click and dragging from Photo Cell to the ImageView and selecting <strong>photoImageView</strong>.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-24-at-6.52.32-PM.png"><!-- raw HTML omitted --></a></p>
<p>If you build and run at this stage, nothing will be different. Â Thatâ€™s because we still need to tell the ViewController class about our newÂ <strong>PhotoCell</strong>. Â OpenÂ **ViewController.mÂ **and importÂ <strong>PhotoCell.h</strong>.</p>
<!-- raw HTML omitted -->
<p>Now, head down to theÂ <strong>collectionView:cellForItemAtIndexPath</strong>Â method and replace the contents of it with the following code:</p>
<!-- raw HTML omitted -->
<p>Whatâ€™s changed here is, we are now telling theÂ <strong>UICollectionView</strong>Â that the cell itâ€™s returning is of the typeÂ <strong>PhotoCell</strong>. Also, we are fetching theÂ <strong>ALAsset</strong>Â out of our array at each index and sending it to the cell so that it can display itâ€™s thumbnail.</p>
<p><strong>Build And Run!</strong></p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-24-at-7.10.39-PM.png"><!-- raw HTML omitted --></a></p>
<p>Whoohoo**!Â **You should now see your photos populating theÂ **UICollectionView. Congratulations!Â <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->While, this is definitely cool, you might now be wondering â€œhow do I select a photo?â€. Â Great question, and here is the solution.</p>
<h3 id="2-selecting-photos">2. Selecting Photos</h3>
<p>Now that you have all of the groundwork in place, selecting photos from the collection could not be easier. Â Open upÂ <strong>ViewController.m</strong>Â and replace theÂ **collectionView:didSelectItemAtIndexPathÂ **method with the following code:</p>
<!-- raw HTML omitted -->
<p>This will get the selected asset and convert it to a UIImage. You are now free to use the UIImage how you want. Perhaps you create a protocol for this class and make a callback to a delegate OR maybe you add this to a UINavigationController stack and push a new view controller on to the stack containing this image. The sky is the limit!</p>
<p>If you look at the Over app and back to your image gallery that you just created, you will notice something is still missing. Â What if the user wants to take a photo or access other albums? Â This is where Over adds a bar across the top of the interface with 2 buttons that fall back to the â€œdefaultâ€ style of fetching images if the user wants to take a photo or access a different photo album. Â Letâ€™s build this out now.</p>
<h3 id="3-building-the-interface-to-take-photos-and-access-albums">3. Building The Interface To Take Photos And Access Albums</h3>
<p>Start by setting up theÂ <strong>IBActions</strong>Â for theses buttons. Â OpenÂ <strong>ViewController.m</strong>Â and add the following empty methods:</p>
<!-- raw HTML omitted -->
<p>We donâ€™t need to add the code yet since we still need to build the UI and hook up theÂ <strong>IBOutlets</strong>. Now openÂ **MainStoryboard.storyboardÂ **and drag aÂ **UIViewÂ **right on top of yourÂ <strong>UIView.</strong></p>
<p>One issue you might run in to here is the view will want to become a subview of the collection view. Â To combat this, drag the view outside of the collection view inside the left bar so the hierarchy will look like this:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.35.06-PM.png"><!-- raw HTML omitted --></a></p>
<p>Â </p>
<p>One other â€œgotchaâ€ is, you must ensure that the view is positioned <strong>below</strong> the collection view in this list, otherwise it wonâ€™t show above it on screen.</p>
<p>Now, letâ€™s manually size and position the view as Interface Building will make things hard on us if we want to position it over our collection view.</p>
<p>Select the view and open theÂ <strong>Size Inspector.</strong>Â Set the values as follows:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.44.23-PM.png"><!-- raw HTML omitted --></a></p>
<p>Â </p>
<p>Again, remember this positioning is optimized for the iPhone 5. So make sure you are testing with that simulator or you wonâ€™t see this bar.</p>
<p>After this, the bar still wonâ€™t be visible inside of Interface Builder. Â We need to set the background color to black with some transparency. Â Open theÂ <strong>Attributes Inspector</strong>Â and click on the background color. Â Then set the color to black with 80% opacity:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.40.13-PM.png"><!-- raw HTML omitted --></a></p>
<p>Â </p>
<p>You should now see the bar positioned on the screen like this:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.41.54-PM.png"><!-- raw HTML omitted --></a></p>
<p>Â </p>
<p>Now drag aÂ **UIButtonÂ **on to the view you just created. There are a few things that must be done to style the button:</p>
<ol>
<li>Position it at 0,0</li>
<li>Set the width to 160px and the height toÂ 70x</li>
<li>Change the type to custom</li>
<li>Change the text to â€œTake Photoâ€</li>
<li>Change the font to â€œHelvetica Neue Condensed Blackâ€ size 20</li>
<li>Set the text color to white</li>
</ol>
<p>When you have completed these steps, the button should look like this:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.47.26-PM.png"><!-- raw HTML omitted --></a></p>
<p>Â </p>
<p>Now, hook up theÂ <strong>IBActionÂ <strong>by opening theÂ <strong>Connections Inspector</strong>Â and dragging fromÂ <strong>Touch Up Inside</strong>Â to theÂ <strong>View Controller</strong>Â object and selecting t</strong>akePhotoButtonTapped:</strong></p>
<p>Finally, duplicate this button (copy and paste), rename the title to â€œAlbumsâ€, move it next to the â€œTake Photoâ€ button and hook itsÂ <strong>Touch Up Inside</strong>Â toÂ <strong>albumsButtonTapped:</strong></p>
<p>The final Interface should look like this:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.51.25-PM.png"><!-- raw HTML omitted --></a></p>
<p>Â </p>
<p>Go ahead and do aÂ <strong>Build and Run</strong>Â and this stage and marvel at your interface development prowess!</p>
<h3 id="4-actually-taking-photos-and-accessing-albums">4. Actually Taking Photos And Accessing Albums</h3>
<p>The final step for this tutorial is to implement the code to bring up the camera as well as bring up the photo albums. Â Letâ€™s start with the camera. Â OpenÂ <strong>ViewController.m</strong>Â and add the following code to theÂ <strong>takePhotosButtonTapped:</strong>Â method:</p>
<!-- raw HTML omitted -->
<ol>
<li>Makes sure that the photo library is available. Â If the user declines photo access, this will be the case.</li>
<li>Create theÂ <strong>UIImagePickerController</strong>Â and set its source type toÂ <strong>UIImagePickerControllerSourceTypeCamera</strong>. Â This lets the media picker know to use the camera and not the image library.</li>
<li>Finally, present the view controller modally</li>
</ol>
<p>The method to bring up the photo albums is almost identical to the method above. Â Add the following code to theÂ <strong>albumsButtonTapped:</strong>Â method.</p>
<!-- raw HTML omitted -->
<p>As I said before, this method is almost identical with the only difference being, we are usingÂ **UIImagePickerControllerSourceTypePhotoLibraryÂ **to open up the photo albums.</p>
<p><strong>Build and Run</strong>Â and tap the â€œTake Photoâ€ button. Make sure you are testing on the device at this stage or nothing will happen since the simulator doesnâ€™t have a camera. Â You can however test the â€œAlbumsâ€ button assuming you have some photos in your photo library.</p>
<p>Now that you are able to pick a photo, you need to be able to access the photo that was selected or taken. Â To do this implement the following delegate method forÂ <strong>UIImagePickerController.</strong></p>
<!-- raw HTML omitted -->
<p>This method fetches the selected (or taken) image and stores. It then dismisses the camera or photo albums allowing you to do whatever is needed with the image.</p>
<h3 id="5-next-steps">5. Next Steps</h3>
<p>By now, you should have learned how to use theÂ **ALAssetsÂ **library to interact with a userâ€™s photos and use them to build a custom interface. You also learned how to use aÂ <strong>UICollectionView</strong>Â to display a grid of photos.</p>
<p>With this knowledge in hand, you should now be able to make much more interesting photo selection interfaces than the default one Apple has to offer. Â Other apps like Google+ and Instagram both have very slick photo pickers and I hope this tutorial has your gears going thinking about other interesting photo selection interfaces.</p>
<p>You can download the source from this tutorial onÂ <a href="https://github.com/brandontreb/OverPicker">GitHub</a></p>
<p>Feel free to leave a comment if you have any questions. Happy Hacking!</p>
<p>Â </p>
<!-- raw HTML omitted -->

  BASE https://brandontreb.github.io

  </section>
  </section>
  
  <a href="https://brandontreb.github.io/2013/08/15/iphone-programming-tutorial-creating-an-image-gallery-like-over-part-2/" class="u-url">
	<aside class="dates">
	  <time datetime="2013-08-15 00:00:00 &#43;0000" class="dt-published">â†’ 12:00 AM, Aug 15</time>
	</aside>
  </a>
</article>
</li>
<span class="separator"><span class="divider"></span></span>

	
		<li>
<article>
  
  <section class="post-body">
  <header>
	<h2><a href="https://brandontreb.github.io/2013/08/12/iphone-programming-tutorial-creating-an-image-gallery-like-over-part-1/">iPhone Programming Tutorial: Creating An Image Gallery Like Over &amp;#8211; Part 1</a></h2>
  </header>
  <section class="post-body">
	<p><a href="http://brandontreb.com/wp-content/uploads/2013/08/Screen-Shot-2013-08-09-at-8.36.42-PM.png"><!-- raw HTML omitted --></a></p>
<p>Â </p>
<p>Recently, I have had to build an app (<!-- raw HTML omitted -->download link<!-- raw HTML omitted -->) that required the user to choose a photo from their photo library. Â Rather than just throwing up aÂ <strong>UIImagePickerController</strong> like many apps, I decided to add a little bit of style. Â Being inspired by Overâ€™s ultra simplistic (and beautiful) photo selection interface, I decided to fancy things up a bit.</p>
<p>For this tutorial, I will start with a Fresh <strong>iOS6</strong> View-Based application that uses <strong>Storyboards</strong> and <strong>ARC</strong>. Also note that I will be optimizing for the iPhone 5 resolution. Â You are free to make the tweaks necessary to deploy on the iPhone 4 and 4S.</p>
<p>Â </p>
<p>Here is a breakdown of what we will cover in this part:</p>
<ol>
<li><!-- raw HTML omitted -->Creating a <!-- raw HTML omitted -->UICollectionViewÂ <!-- raw HTML omitted -->inside ofÂ <!-- raw HTML omitted -->Storyboard<!-- raw HTML omitted --><!-- raw HTML omitted --></li>
<li>Using theÂ <strong>ALAssetsLibrary</strong> to fetch photos from the userâ€™sÂ <strong>Camera Roll</strong></li>
<li>Displaying theÂ <strong>ALAssets</strong> inside of theÂ <strong>UICollectionView</strong></li>
</ol>
<h3 id="1-preparing-the-iboutlets">1. Preparing The IBOutlets</h3>
<p>Start by opening up **ViewController.m **and replacing the <strong>@interface</strong> declaration at the top with the following code:</p>
<!-- raw HTML omitted -->
<p>This will declare the **IBOutletÂ **needed to hook up the mainÂ <strong>UICollectionView</strong> that we will be using to display the userâ€™s photos. Â I have also set up our class to be aÂ <strong>UICollectionViewDataSource</strong>, <strong>UICollectionViewDelegate</strong>, and <strong>UICollectionViewDelegateFlowLayout</strong>. This is necessary when interfacing with theÂ <strong>UICollectionView.</strong></p>
<h3 id="2-setting-up-the-uicollectionview-in-storyboard">2. Setting Up The UICollectionView In Storyboard</h3>
<p>Open up **MainStoryboard.storyboardÂ **and drag aÂ <strong>UICollectionView</strong> on to your view ensuring that it stretches the entire screen.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-21-at-8.44.02-PM.png"><!-- raw HTML omitted --></a></p>
<p>Then,Â <strong>Control-Click</strong>Â and drag from theÂ **UICollectionViewÂ **to yourÂ **ViewControllerÂ **Object and set it as theÂ **delegateÂ **andÂ <strong>datasource.</strong></p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-21-at-8.41.29-PM.png"><!-- raw HTML omitted --></a></p>
<p>Finally,Â **Control-ClickÂ **and drag fromÂ **View ControllerÂ **toÂ <strong>Collection View</strong> and selectedÂ **collectionViewÂ **to make theÂ **IBOutletÂ **connection.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-21-at-8.45.05-PM.png"><!-- raw HTML omitted --></a></p>
<p>Now, we need to give aÂ <strong>Cell Identifier</strong> to theÂ <strong>UICollectionViewCell</strong>Â so that we can reference it in code. Â Click on the default cell inside of theÂ <strong>UICollectionView</strong> and open theÂ **Attributes Inspector.Â **For theÂ <strong>Identifier</strong> type inÂ <strong>PhotoCell.</strong> The cell might be a little tricky to see as its background color is clear, but itâ€™s there. Simply click in the top left corner of the <strong>UICollectionView</strong>.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-21-at-9.13.08-PM.png"><!-- raw HTML omitted --></a></p>
<p>Now that theÂ <strong>UICollectionView</strong>Â has been set up, itâ€™s time to fetch the photos from the userâ€™s photo library.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h3 id="3-fetching-alassets-user-photos-from-the-alassets-library">3. Fetching ALAssets (user photos) From The ALAssets Library</h3>
<p>In order to interface with the userâ€™s photo library, we must first import theÂ **AssetsLibrary.frameworkÂ **framework. Â To do this, click on your project in the sidebar, select the Target, then clickÂ **Build Phases,Â **expand theÂ <strong>Link Binary With Libraries</strong> section and click the **+Â **button. Â Do a search forÂ **AsssetÂ **and then double click onÂ <strong>AssetsLibrary.framework.</strong></p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-21-at-8.57.37-PM.png"><!-- raw HTML omitted --></a></p>
<p>It should now be added to your project and ready to use. Â Now that it has been linked, we must import it into theÂ **ViewController.mÂ **file. Â Open upÂ **ViewController.mÂ **and add the following import to the top of the file:</p>
<!-- raw HTML omitted -->
<p>Before we can fetch the userâ€™s photos, we need to set up anÂ <strong>NSArray</strong> to put them in. Â Add the following line within theÂ **@interfaceÂ **declaration at the top.</p>
<!-- raw HTML omitted -->
<p>Now, add the following method to your class:</p>
<!-- raw HTML omitted -->
<p>This is a static method that creates a static instance to the <strong>ALAssetsLibrary</strong>. Â The reason this is needed is, when we enumerate theÂ <strong>ALAssets</strong>Â in the next method, it seems that the assets get released immediately and otherwise wouldnâ€™t be able to be used in the rest of the application. I will explain this a little more in a moment.</p>
<p>Head over toÂ <strong>viewDidLoad</strong> and add the following code:</p>
<!-- raw HTML omitted -->
<ol>
<li>Grab our static instance of theÂ <strong>ALAssetsLibrary</strong></li>
<li>Enumerate through all of theÂ **ALAssetsÂ **(photos) in the userâ€™sÂ <strong>Asset Groups</strong> (Folders)</li>
<li>Enumerate each folder and add itâ€™sÂ **ALAssetsÂ **to the temporary array</li>
<li>Sort the assets list by date (this wonâ€™t work yet, but I will show you how to fix later). For now this code is commented out and the Assets will be sorted however they come out.</li>
<li>Reload theÂ <strong>UICollectionView</strong> (this wonâ€™t work yet as we havenâ€™t set up the delegate methods)</li>
</ol>
<p>Now that we have anÂ <strong>NSArray</strong> populated withÂ <strong>ALAssets</strong>, letâ€™s set up theÂ **delegateÂ **methods for theÂ <strong>UICollectionView</strong> in order to populate it with data.</p>
<h3 id="4-populating-the-uicollectionview-with-data">4. Populating the UICollectionView With Data</h3>
<p>AÂ <strong>UICollectionView</strong> functions much like aÂ **UITableViewÂ **having delegate and datasource methods. Â Add the following methods to your <strong>ViewController</strong> class to populate the view.</p>
<!-- raw HTML omitted -->
<p>This code should be fairly straight forward if you have ever worked with aÂ <strong>UITableView.</strong> Â The only lines to note are where â€˜cell.asset = assetâ€™ is commented out and we set the cellâ€™s background color to red. Â We will uncomment that line when we create a custom cell to display the image (for now it wonâ€™t). Â I have also set the background color to red so that you can see that the number of cells is actually corresponding to the number of photos in the camera roll.</p>
<p><strong>Build and Run!</strong></p>
<p>Letâ€™s take a break to do a build and run to see what happens. Â If you have hooked everything up correctly, you should see a black screen with red squares on it with a count equalling the number of photos in the userâ€™s library.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-21-at-9.26.07-PM.png"><!-- raw HTML omitted --></a></p>
<p>Not too exciting, however it shows that we are displaying a number of cells corresponding to the number of photos in the userâ€™s asset library. Â At least itâ€™s showing that you have done something. Â The next step is to create a customÂ <strong>UICollectionViewCell</strong> that actually displays the photos, which we will do next time.</p>
<h3 id="5-next-time">5. Next Time</h3>
<p>Thatâ€™s all for today. Â In a ploy to get you to come back to my site (and<a href="http://feeds.feedburner.com/brandontreb"> subscribe to my RSS feed</a>), I have chosen to break this post up into two parts. Â </p>
<p>Luckily for you, I wrote the above message a while ago. Click the link below to go to part 2!</p>
<p><a href="http://brandontreb.com/iphone-programming-tutorial-creating-an-image-gallery-like-over-part-2">iPhone Programming Tutorial: Creating An Image Gallery Like Over â€“ Part 2</a></p>
<p>Stay tuned!</p>
<!-- raw HTML omitted -->

  BASE https://brandontreb.github.io

  </section>
  </section>
  
  <a href="https://brandontreb.github.io/2013/08/12/iphone-programming-tutorial-creating-an-image-gallery-like-over-part-1/" class="u-url">
	<aside class="dates">
	  <time datetime="2013-08-12 00:00:00 &#43;0000" class="dt-published">â†’ 12:00 AM, Aug 12</time>
	</aside>
  </a>
</article>
</li>
<span class="separator"><span class="divider"></span></span>

	


</ul>




  </section>
  <footer id="footer">

<section id="wrapper">
  <ul>
    <li><a href="/feed.xml">RSS</a></li>
    <li><a href="/feed.json">JSON Feed</a></li>
    <li><a href="/surprise-me/">Surprise me!</a></li>


  </ul>
  <form method="get" id="search" action="https://duckduckgo.com/">
    <input type="hidden" name="sites" value="https://brandontreb.github.io/"/>
    <input type="hidden" name="k8" value="#444444"/>
    <input type="hidden" name="k9" value="#ee4792"/>
    <input type="hidden" name="kt" value="h"/>
    <input class="field" type="text" name="q" maxlength="255" placeholder="To search, type and hit Enterâ€¦"/>
    <input type="submit" value="Search" style="display: none;" />
  </form>
</section>

</footer>
  
		
</body>
</html>
